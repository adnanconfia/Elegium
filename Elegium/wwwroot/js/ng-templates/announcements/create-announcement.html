<div id="demo" class="carousel slide" data-interval="false" data-ride="carousel" data-pause="hover">


    <div class="carousel-inner">


        <div class="carousel-item active">
            <div class="modal-header border-0">

                <h4 class="modal-title" id="modal-title">

                    {{title}}
                    <br />
                    <p class="small">
                        You can create a new announcement with a title and a message text for specific groups or the whole crew. By default the announcement will be sent to all users and external contacts of the selected groups. But you can deactivate all external contacts as receivers of the announcement.
                    </p>
                </h4>

            </div>

            <div class="modal-body p-2" id="modal-body">
                <div class="container-fluid">
                    <div class="container p-0">

                        <div class="stepwizard" ng-hide="true">
                            <div class="stepwizard-row setup-panel">
                                <div class="stepwizard-step col-xs-3">

                                    <a href="#step-1" type="button" class="btn btn-default btn-circle btn-success"><i class="fa fa-info-circle"></i></a>
                                    <p><small>General Information</small></p>
                                </div>

                            </div>
                        </div>

                        <div class="panel panel-primary setup-content" id="step-1">
                            <div class="panel-heading">
                                <h5 class="panel-title">
                                    General Information
                                </h5>
                            </div>

                            <div class="panel-body">
                                <div class="row clearfix">
                                    <div class="col-sm-12">


                                        <div class="card">
                                            <div class="card-body">


                                                <div class="row">
                                                    <div class="col-12">
                                                        <form role="form" name="AnnouncementForm" class="row">
                                                            <div class="col-12">
                                                                <div class="form-group">
                                                                    <label class="form-label">Title <small>(required)</small></label>
                                                                    <input maxlength="200" required="required" name="Index" class="form-control {{announcement.Title.$valid?'is-valid':'is-invalid'}}"
                                                                           ng-model="announcement.Title" />
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12 col-sm-12">
                                                                <div class="form-group">
                                                                    <label class="form-label">
                                                                        Message <small>(required)</small>
                                                                    </label>
                                                                    <textarea rows="5" class="form-control {{announcement.Message.$valid?'is-valid':'is-invalid'}}" ng-model="announcement.Message"></textarea>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label class="custom-switch">
                                                                        <input type="checkbox" ng-model="announcement.IncludeExternal" aria-expanded="false" aria-controls="collapseExample"
                                                                               name="custom-switch-checkbox" class="custom-switch-input">
                                                                        <span class="custom-switch-indicator"></span>
                                                                        <span class="custom-switch-description">Don't send announcement to external contacts</span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12 text-center">
                                                                <div id="uppy-uploader" class="w-100 text-center ml-35 mb-3">

                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label class="form-label">
                                                                        Groups to send the announcement to
                                                                    </label>
                                                                    <ui-select multiple class="form-control" ng-model="announcement.AssignedTo" theme="selectize" sortable="true" close-on-select="false">
                                                                        <ui-select-match>{{$item.name}}</ui-select-match>
                                                                        <ui-select-choices group-by="groupUsers" repeat="visible as visible in projectUsersAndGroups | filter:{type:'groups'}">
                                                                            <div class="row p-10 clearfix">
                                                                                <div class="col-sm-1">
                                                                                    <img class="rounded img-fluid" src="{{visible.avatar}}" alt="" />
                                                                                </div>
                                                                                <div class="col-sm-11">
                                                                                    <div ng-bind-html="visible.name | highlight: $select.search">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </ui-select-choices>
                                                                    </ui-select>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                    <div class="col-md-12 col-sm-12">
                                                        <label class="form-label">Do you want to add more?</label>
                                                        <div class="row">
                                                            <div class="col-lg-3 col-md-4 m-2 col-sm-5 col-12">
                                                                <button class="text-center cursor-pointer btn btn-dark btn-lg h-100 add-char py-5 w-100" href="#">
                                                                    <span class="material-icons">
                                                                        settings
                                                                    </span>
                                                                    <p>Advanced settings</p>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer border-0">
                <button class="btn btn-secondary pull-right" ng-disabled="AnnouncementForm.$invalid" ng-click="createannouncement()">
                    <i class="fa fa-save"></i> Save
                </button>
                <button class="btn btn-danger" ng-click="cancel()">
                    <i class="fa fa-times"></i> Close
                </button>
            </div>
        </div>
        <div class="carousel-item">
            <div class="modal-header">

                <h3 class="modal-title" id="modal-title">
                    <button class="btn btn-sm btn-dark btn-back "><i class="fa fa-arrow-left"></i></button>
                    Advanced settings

                </h3>

            </div>
            <div class="modal-body" id="modal-body">

                <div class="container-fluid">
                    <h6>Here you can select advanced settings. For example you can select that the announcement should be always displayed at the dashboard.</h6>
                    <div class="col-12 rounded my-1 srch">
                        <div class="row clearfix mt-4">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label class="custom-switch">
                                        <input type="checkbox" ng-model="announcement.PinTop" aria-expanded="false" aria-controls="collapseExample"
                                               name="custom-switch-checkbox" class="custom-switch-input">
                                        <span class="custom-switch-indicator"></span>
                                        <span class="custom-switch-description">Pin this announcement to the top in the project dashboard</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix mt-4">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label class="custom-switch">
                                        <input type="checkbox" ng-model="announcement.HasDeadline" id="toggleCalendarDeadline"
                                               data-toggle="collapse" data-target="#deadline-calendar" aria-expanded="false" aria-controls="collapseExample"
                                               name="custom-switch-checkbox" class="custom-switch-input">
                                        <span class="custom-switch-indicator"></span>
                                        <span class="custom-switch-description">Announcement has an expiration date</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix mt-2">
                            <div class="col-sm-12 collapse" id="deadline-calendar">
                                <div class="form-group">
                                    <label class="form-label">Expiration date</label>
                                    <div class="input-group">
                                        <input type="date" ng-model="announcement.Deadline" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 py-5 text-right">
                        <button class="btn btn-primary btn-sm text-right btn-back" type="button">Done</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<script>
    $(document).ready(function () {

        //$('.multiselect').multiselect({
        //    enableFiltering: true,
        //    enableCaseInsensitiveFiltering: true,
        //    maxHeight: 200
        //});
        //$('.srch').hide();
        $('.add-char-btn').click(() => {
            $('.srch').fadeIn("slow");
            $('.add-char-div').hide();
        });
        $('.close-srch').click(() => {
            $('.srch').hide("slow");

            $('.add-char-div').show();
        });
        $('.btn-back').click(() => {

            $(".carousel").carousel(0);

        })

        $('.add-char').click(() => {

            $(".carousel").carousel(1);
        });
        $('.add-extra').click(() => {

            $(".carousel").carousel(2);
        }); $('.shooting-info').click(() => {

            $(".carousel").carousel(3);
        }); $('.add-img').click(() => {

            $(".carousel").carousel(4);
        });
    });
</script>
